<odoo>
    <record id="view_eudr_declaration_form_inherit_ai_smart" model="ir.ui.view">
        <field name="name">eudr.declaration.form.planetio.surveys</field>
        <field name="model">eudr.declaration</field>
        <field name="inherit_id" ref="planetio.view_eudr_declaration_form"/>
            <field name="arch" type="xml">
               <div class="oe_button_box" position="inside">
                  <button name="action_ai_analyze"
                          type="object"
                          string="AI Analyze"
                          class="oe_highlight btn-info"
                          icon="fa-magic"/>
                    </div>
            </field>
    </record>

  <record id="view_eudr_declaration_form_ai" model="ir.ui.view">
    <field name="name">eudr.declaration.form.ai</field>
    <field name="model">eudr.declaration</field>
    <field name="inherit_id" ref="planetio.view_eudr_declaration_form"/>
    <field name="arch" type="xml">
    <xpath expr="//field[@name='attachment_ids']" position="before">
        <button name="action_ai_analyze"
                type="object"
                string="AI Analyze"
                class="oe_highlight btn-info"
                icon="fa-magic"/>
      </xpath>
      <xpath expr="//notebook" position="inside">
        <page string="AI Alerts">
          <field name="ai_alert_ids" context="{'default_declaration_id': active_id}">
            <tree editable="bottom">
              <field name="sequence" widget="handle"/>
              <field name="line_id" optional="show"/>
              <field name="line_label" optional="show"/>
              <field name="field_identifier" optional="show"/>
              <field name="description" widget="text"/>
            </tree>
            <form string="AI Alert">
              <group>
                <field name="sequence"/>
                <field name="line_id"/>
                <field name="line_label"/>
                <field name="field_identifier"/>
              </group>
              <group>
                <field name="description" widget="text"/>
              </group>
            </form>
          </field>
        </page>
        <page string="AI Corrective Actions">
          <field name="ai_action_ids" context="{'default_declaration_id': active_id}">
            <tree editable="bottom">
              <field name="sequence" widget="handle"/>
              <field name="line_id" optional="show"/>
              <field name="line_label" optional="show"/>
              <field name="field_identifier" optional="show"/>
              <field name="description" widget="text"/>
            </tree>
            <form string="Corrective Action">
              <group>
                <field name="sequence"/>
                <field name="line_id"/>
                <field name="line_label"/>
                <field name="field_identifier"/>
              </group>
              <group>
                <field name="description" widget="text"/>
              </group>
            </form>
          </field>
        </page>
      </xpath>
    </field>
  </record>
</odoo>